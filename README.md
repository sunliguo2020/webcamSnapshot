### webcamSnapshot



#### 项目背景：

维护着很多摄像头，资料一直很不准确。某天一个摄像头故障，通道名称描述不是很准确，无法很快找到这个摄像头。我想，在摄像头正常的时候，每个摄像头都能截一张图。那么维护的时候不是就很容易找到它了吗？手工截图很慢，就可以用python来解决这个问题。

一开始用摄像头厂商的sdk来截图，发现比较复杂。后来从网上找到了可以用rstp协议，还可以用onvif协议来截图。 
#### 常见厂商onvif端口号
雄迈：8899
大华：80
海康：80

#### 项目目标：

1、实现通过rstp协议来截图。
2、实现通过onvif协议来截图

#### 第三方包：

1、onvif-zeep

```
pip install onvif-zeep
```

2、opencv

```
pip install opencv-python
```

3、requests

```
pip install requests
```

更详细参考requirements.txt文件

#### 更新：

2020-10-14： 1、实现抓取大华录像机的多通道截图。

2023-03：统计截图失败的ip地址。

2023-04-21：添加图片水印信息（摄像头的ip）

2023-04-22：每次截图成功后，剔除成功的ip，失败的ip次数加1。最多重试5次。

2023-05-05：解决了文字水印宽度大于图片宽度时的问题。

2023-05-20：编写了图形界面。

2023-06-21：解决了图形界面不能滚动显示日志的问题。

2024-01-06：1、修复了一些bug
          			  2、统一了logger配置
          			  3、增加了config lib 等目录

2024-05-05:增加了通过onvif协议截图。

2024-08-09:通过git filter-repo 删除了部分文件。